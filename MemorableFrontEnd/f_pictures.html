<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="apple-mobile-web-app-capable" content="yes" /> 
    <meta name="apple-touch-fullscreen" content="yes" />

    <link rel="shortcut icon" href="img/icon.jpg">
    <title>Memorable</title>

    

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/3-col-portfolio.css" rel="stylesheet">

    <!-- Memorable CSS -->
    <link href="css/memorable.css" rel="stylesheet">

    <!-- Slick Slider JS -->
    <link rel="stylesheet" type="text/css" href="js/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="js/slick/slick-theme.css"/>   
                
</head>

<body>

    <!-- Header -->
    <div class="memorable-header">
        <img src="img/logo.png" class="header-logo">
    </div>

    <!-- Page Content -->
    <div class="container family-screensize">

        <!-- Go Back -->
        <img src="img/backButton.png" class="back-button" onclick="backButton()">

        <!-- Page Header -->
        <div class="edit-title-row">
            <div class="col-sm-2">
                <img class="edit-user-pic img-responsive" src="img/fakeUsers/user2.jpg" alt="">
            </div>
            <div class="col-sm-10">
                <div class="edit-user-title">
                    Grace's Pictures
                </div>
            </div>
        </div>
        <!-- /.row -->



        <!-- Interests Row -->
        <div class="interests-row">
            <div class="favtitle-row">
                <h3 class="fav-title">Select Interests
                </h3>
            </div>
            <div class="interests">
                <div class="col-sm-2">
                    <img class="interest img-responsive" src="img/fakeInterests/s_piano.jpg" alt="" id="piano" onclick="interestHighlight(this.id)">
                </div>
                <div class="col-sm-2">
                    <img class="interest img-responsive" src="img/fakeInterests/s_farms.jpg" alt="" id="farms" onclick="interestHighlight(this.id)">
                </div>
                <div class="col-sm-2">
                    <img class="interest img-responsive" src="img/fakeInterests/s_golf.jpg" alt="" id="golf" onclick="interestHighlight(this.id)">
                </div>
                <div class="col-sm-2">
                    <img class="interest img-responsive" src="img/fakeInterests/s_beach.jpg" alt="" id="beach" onclick="interestHighlight(this.id)">
                </div>
                <div class="col-sm-2">
                    <img class="interest img-responsive" src="img/fakeInterests/s_dog.jpg" alt="" id="dog" onclick="interestHighlight(this.id)">
                </div>
                <div class="col-md-2">
                    <img class="interest img-responsive" src="img/fakeInterests/s_football.jpg" alt="" id="football" onclick="interestHighlight(this.id)">
                </div>
                <div class="col-sm-2">
                    <img class="interest img-responsive" src="img/fakeInterests/s_flowers.jpg" alt="" id="flowers" onclick="interestHighlight(this.id)">
                </div>
                <div class="col-sm-2">
                    <img class="interest img-responsive" src="img/fakeInterests/s_horse.jpg" alt="" id="horses" onclick="interestHighlight(this.id)">
                </div>
                <div class="col-sm-2">
                    <img class="interest img-responsive" src="img/fakeInterests/s_garden.jpg" alt="" id="gardening" onclick="interestHighlight(this.id)">
                </div>
                <div class="col-sm-2">
                    <img class="interest img-responsive" src="img/fakeInterests/s_tennis.jpg" alt="" id="tennis" onclick="interestHighlight(this.id)">
                </div>
            </div> 
        </div>
        <!-- /.row -->


        <!-- Fake Back & Next Buttons -->
        <img src="img/interests_back.png" class="fake-back-button-int" onclick="slideBack()">
        <img src="img/interests_next.png" class="fake-next-button-int" onclick="slideNext()">


        <!-- Personal Photos Row-->
        <div class="personal-photos-row">
            <div class="favtitle-row">
                <h3 class="fav-title">Personal Photos
                </h3>
					 <form id="uploadForm" enctype="multipart/form-data" method="post">
						 <input class="choose-pic" type="file" id="files" name="files[]" multiple />
						 <input class="save-pic" type="submit" id="go!" id="submit" ></input>
						 <input type="text" id="caption" />
					 </form>
					 <output id="list"></output>
            </div>
            <div class="personal-table row">
                <div class="personal-row col-sm-12">
                    <div class="col-sm-15">
                        <img class="fav-pics img-responsive" src="img/fakePuzzles/family1.jpg" alt="">
                    </div>
                    <div class="col-sm-15">
                        <img class="personal-image img-responsive" src="img/fakePuzzles/family2.jpg" alt="">
                    </div>
                    <div class="col-sm-15">
                        <img class="personal-image img-responsive" src="img/fakePuzzles/family3.jpg" alt="">
                    </div>
                    <div class="col-sm-15">
                        <img class="personal-image img-responsive" src="img/fakePuzzles/family4.jpg" alt="">
                    </div>
                    <div class="col-sm-15">
                        <img class="personal-image img-responsive" src="img/fakePuzzles/family5.jpg" alt="">
                    </div>
                </div>
                <div class="personal-row col-sm-12">
                <div class="col-sm-15">
                    <img class="fav-pics img-responsive" src="img/fakePuzzles/family1.jpg" alt="">
                </div>
                <div class="col-sm-15">
                    <img class="personal-image img-responsive" src="img/fakePuzzles/family2.jpg" alt="">
                </div>
                <div class="col-sm-15">
                    <img class="personal-image img-responsive" src="img/fakePuzzles/family3.jpg" alt="">
                </div>
                <div class="col-sm-15">
                    <img class="personal-image img-responsive" src="img/fakePuzzles/family4.jpg" alt="">
                </div>
                <div class="col-sm-15">
                    <img class="personal-image img-responsive" src="img/fakePuzzles/family5.jpg" alt="">
                </div>
            </div>
            <div class="personal-row col-sm-12">
                <div class="col-sm-15">
                    <img class="fav-pics img-responsive" src="img/fakePuzzles/family1.jpg" alt="">
                </div>
                <div class="col-sm-15">
                    <img class="personal-image img-responsive" src="img/fakePuzzles/family2.jpg" alt="">
                </div>
                <div class="col-sm-15">
                    <img class="personal-image img-responsive" src="img/fakePuzzles/family3.jpg" alt="">
                </div>
                
            </div>
        </div>
        </div>
        <!-- /.row -->

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="js/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="js/slick/slick.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function(){
          $('.interests').slick({
            infinite: true,
            slidesToShow: 5,
            slidesToScroll: 5
          });
          $('.slick-next').css({"width":"40px", "height":"90px", 
                                "margin-top":"-10px", "top":"35%", "position":"none"});
          $('.slick-prev').css({"width":"40px", "height":"90px", 
                                "margin-top":"-10px", "top":"35%", "right":"10px"});
        });
    </script>
    <style>
        .selectedInterest {
            border: solid #B689BC 5px;
        }



    </style>

    <script>
        function interestHighlight(id) {
            var docID = "#" + id;
            if($(docID).hasClass("selectedInterest")) {
                $(docID).removeClass("selectedInterest");

                // remove from db
                var uid = '1';
                $.post('/removeInterest/' + uid + '/' + id, function(data) {
                    console.log("removed interest");
                }); 

            } else {
                $(docID).addClass("selectedInterest");

                // add to db
                var uid = '1';
                $.post('/addInterest/' + uid + '/' + id, function(data) {
                    console.log("added interest");
                }); 
            }
        }
    </script>

    <script>
        function slideNext() {
            $('.interests').slick('slickNext');
        }
        function slideBack() {
            $('.interests').slick('slickPrev');
        }

    </script>

<script>
  function handleFileSelect(evt) {
    var files = evt.target.files; // FileList object

    // files is a FileList of File objects. List some properties.
    var output = [];
    for (var i = 0, f; f = files[i]; i++) {
      output.push('<li id="img_', i,  '"><strong>', escape(f.name), '</strong></li>');
    }
    document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
  }

  document.getElementById('files').addEventListener('change', handleFileSelect, false);
</script>

 <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
</body>
</html>

 <script>
	$(document).ready(function() {
		$('#uploadForm').submit(function() {
			var fileName = $('li').text() //hacky...
			var caption = $('#caption').val()
			var urll = '../uploads/' + fileName + '/' + caption;
			console.log(urll)

			$(this).ajaxSubmit({
				url: urll, 
				error: function(xhr) {
					status('Error: ' + xhr.status)
                    console.log("ERROR uploading file")
				},
				success: function(response) {
					console.log("suuuuuccccessssss")
					//Cindy/Tiffany-you can display the newly uploaded photo however you want...
					// $('.table').append("<img src='/upload/" + $('li').text() + "' />")		

                    $('.table').append("<div class='col-sm-15'>
                    <img class='personal-image img-responsive' src='/upload/" + $('li').text() + "' /></div>")  

                //     <div class="col-sm-15">
                //     <img class="personal-image img-responsive" src="img/fakePuzzles/family3.jpg" alt="">
                // </div>

					
					document.getElementById('uploadForm').reset()
					$('output').val('')
				}
			});
			return false;
		});
	});
</script>

<script>
        $(document).ready(function() {
            // highlight user's interests
            var uid = '1';
            $.get('/selectInterests/' + uid, function(data) {

                $.ajax({
                    success: function(response) {
                        for (var i=0; i<data.length; i++) {
                            loadHighlight(data[i]);
                        }
                    }
                });
            });     
          });

        function loadHighlight(id) {
            var docID = "#" + id;
            if($(docID).hasClass("selectedInterest")) {
                $(docID).removeClass("selectedInterest");
            } else {
                $(docID).addClass("selectedInterest");
            }
        }

        function backButton() {
            window.location = "f_profile.html"; 
        }
</script>

